@page "/"
@using Sep3Blazor.Data
@using Sep3Blazor.Model
@inject IGroupService _groupService
@inject INoteService _noteService
@inject NavigationManager NavigationManager;
@inject AuthenticationStateProvider AuthenticationStateProvider
@using LoginComponent


<h1>Hello, world!</h1>

<Login/>
<AuthorizeView >
<div class="row">
    <div class="col-sm-6">
        <Account></Account>
    </div>
    <div class="col-sm-6">
       <Invitations Value=@context.User.FindFirst("id").Value></Invitations>
    </div>
    <div class="col-sm-12">
        <p>
            Penguins are a group of aquatic flightless birds. They live almost exclusively in the southern hemisphere: only one species, the Galápagos penguin, is found north of the Equator.
            Highly adapted for life in the water, penguins have countershaded dark and white plumage and flippers for swimming.
            Most penguins feed on krill, fish, squid and other forms of sea life which they catch while swimming underwater.
            They spend roughly half of their lives on land and the other half in the sea.

            Although almost all penguin species are native to the southern hemisphere, they are not found only in areas with cold climates, such as Antarctica.
            In fact, only a few species of penguin live that far south. Several species are found in the temperate zone, and one species, the Galápagos penguin, lives near the Equator.

            The largest living species is the emperor penguin on average, adults are about 1.1 m (3 ft 7 in) tall and weigh 35 kg (77 lb).
            The smallest penguin species is the little blue penguin (Eudyptula minor), also known as the fairy penguin, which stands around 33 cm (13 in) tall and weighs 1 kg (2.2 lb).
            In general today, larger penguins inhabit colder regions, and smaller penguins inhabit regions with temperate or tropical climates.
            Some prehistoric penguin species were enormous: as tall or heavy as an adult human.
            There was a great diversity of species in subantarctic regions, and at least one giant species in a region around 2,000 km south of the equator 35 mya, in a climate decidedly warmer than today.
        </p>
    </div>

</div>
</AuthorizeView>

@code
{
    public string SearchPhrase;
    public string SearchPhrase2;


    public Note Note;

    public IList<Note> NoteList { get; set; }
    public IList<Group> GroupList { get; set; }
    public IList<Invitation> InvitationList { get; set; }


    protected override async Task OnInitializedAsync()
    {
        base.OnInitialized();
        Console.WriteLine("2str");

    //await AddInvitation();
    //await AddGroup();
    //Note = await _noteService.GetNote(9,1);
    //SearchPhrase = Note.text;
    /*GroupList = await _groupService.GetGroupList("1");
        NoteList = await _noteService.GetNoteList("9");
        SearchPhrase2 = GroupList[0].name;*/
    //SearchPhrase = ;
    // await _groupService.RegisterUser(new User(0, "Test", "Test", "test2", "test"));

    //await _invitationService.AddInvitations("1");
    //await _invitationService.AddInvitations("2");
    //await _groupService.ValidateLogin("dorin", "123");
    }


    public async Task AddGroup()
    {
        GroupList = await _groupService.AddGroup("newGroupName");
        SearchPhrase2 = GroupList.Last().name;
    }
}